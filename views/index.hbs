<header>
  <div class="column6 alpha full">
    <div class="first">
      <img src="img/logo.png">
    </div>
    <div class="second">
      <p>
        — We believe —
        <br/>
        Unexpected kindness makes a difference.
      </p>
    </div>
    <div class="third">
      <p>
        — Has a —
        <br/>
        <span>
          Friendly Stranger
        </span>
        <br/>
        Surprised you?
      </p>

      <p>
        Share it and pass it on!
      </p>

      <p>
        #AFriendlyStranger
      </p>

      <a href="#">
        Download a Card
      </a>

      <p>
        Or make yours
        <br/>
        and spread some kindness
      </p>

      <a href="">
        <img src="img/tumblr.png"/>
      </a>

      <a href="">
        <img src="img/facebook.png"/>
      </a>

      <a href="">
        <img src="img/twitter.png"/>
      </a>

      <a href="">
        <img src="img/instagram.png"/>
      </a>
    </div>
    <div class="fourth">
      <p>
        Small
        <br/>
        Detail
      </p>
      <img src="img/logo2.png"/>
      <p>
        Full
        <br/>
        Intention
      </p>
      <p>
        From The Executive Department for Good Living
      </p>
    </div>
  </div>
</header>
<div class="results column10 prefix6 alpha omega"></div>

<script type="text/template" id="mediaTpl">
  <div class="media column5 <% if(!obj.photo){%> nophoto<%}%>">
    <% if(obj.photo) { %>
    <%= obj.photo %>
    <%= typeof obj.photo %>
    <div class="photo">
      <a href="<%= url %>"><img src="<%= obj.photo %>"></a>
    </div>
    <%}%>
    <div class="caption"><a href="<%= url %>"><%= caption %></a></div>
    <div>By <span class="author"><%= user %></span>
    </div>
  </div>
</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="/js/underscore.min.js"></script>
<script>
(function updateResults() {
  var mediaTpl = _.template($('#mediaTpl').html())

  var $results = $('.results')
  $results.html('Loading…')

  $.get('/search').done(function(data) {
    if (!data.length) {
      return $results.html('No Results')
    }

    var $render = $('<div/>')
    _.each(data, function(item) {
      $render.append(mediaTpl(item))
    })
    $results.html($render.html())
  }).fail(function(err, xhr, message) {
    $results.html(message)
    console.error(arguments)
  })
}())
</script>